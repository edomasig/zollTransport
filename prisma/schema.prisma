// Prisma schema for Nurse Logger App
// Save as schema.prisma in the /prisma directory

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Device {
  id          String   @id @default(uuid())
  name        String
  location    String
  qrCodeUrl   String
  logs        Log[]
}

model Log {
  id                          String   @id @default(uuid())
  day                         DateTime
  weekDay                     String
  time                        String
  deviceId                    String
  dailyCodeReadinessTest      Boolean
  dailyBatteryCheck           Boolean
  weeklyManualDefibTest       Boolean
  weeklyPacerTest             Boolean
  weeklyRecorder              Boolean
  padsNotExpired              Boolean
  expirationDate              DateTime
  correctiveAction            String
  nurseName                   String
  createdAt                   DateTime @default(now())
  updatedAt                   DateTime @updatedAt

  device Device @relation(fields: [deviceId], references: [id])
}
